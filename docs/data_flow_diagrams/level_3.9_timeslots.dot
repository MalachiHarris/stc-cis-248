digraph data_flow_diagram {
    node [ shape = circle ]
    
    "..." [ shape = none ]
    
    "..." -> "Timeslot controller" -> "..."

    subgraph actions {
        rank = same
        
        "Schedule calendar (GET)"
        "Schedule week (GET)"
        "Schedule timeslot add (GET, POST)"
        "Schedule timeslot edit (GET, POST)"
        "Schedule timeslot delete (GET, POST)"
        "Schedule timeslot copy (GET)"
        "Schedule timeslot copy confirm (GET, POST)"
        "Schedule date range clear (GET, POST)"
        "Schedule export (GET, POST)"
    }
    
    "Timeslot controller" -> {
        "Schedule calendar (GET)"
        "Schedule week (GET)"
        "Schedule timeslot add (GET, POST)"
        "Schedule timeslot edit (GET, POST)"
        "Schedule timeslot delete (GET, POST)"
        "Schedule timeslot copy (GET)"
        "Schedule timeslot copy confirm (GET, POST)"
        "Schedule date range clear (GET, POST)"
        "Schedule export (GET, POST)"
    } -> "Timeslot controller"
    
    subgraph repositories {
        rank = same
        
        "Team member repository"
        "Typical availability repository"
        "Unavailability repository"
        "Shift context repository"
        "Shift context preferences repository"
        "Color repository"
        "Shift context notes repository"
        "Substitute repository"
        "Timeslot repository"
    }
    
    {
        "Schedule calendar (GET)"
        "Schedule week (GET)"
        "Schedule timeslot add (GET, POST)"
        "Schedule timeslot edit (GET, POST)"
        "Schedule timeslot delete (GET, POST)"
        "Schedule timeslot copy (GET)"
        "Schedule timeslot copy confirm (GET, POST)"
        "Schedule date range clear (GET, POST)"
        "Schedule export (GET, POST)"
    }
    ->
    {
        "Team member repository"
        "Typical availability repository"
        "Unavailability repository"
        "Shift context repository"
        "Shift context preferences repository"
        "Color repository"
        "Shift context notes repository"
        "Substitute repository"
        "Timeslot repository"
    }
    ->
    {
        "Schedule calendar (GET)"
        "Schedule week (GET)"
        "Schedule timeslot add (GET, POST)"
        "Schedule timeslot edit (GET, POST)"
        "Schedule timeslot delete (GET, POST)"
        "Schedule timeslot copy (GET)"
        "Schedule timeslot copy confirm (GET, POST)"
        "Schedule date range clear (GET, POST)"
        "Schedule export (GET, POST)"
    }
    
    Database [ shape = folder ]
    
    Database -> {
        "Team member repository"
        "Typical availability repository"
        "Unavailability repository"
        "Shift context repository"
        "Shift context preferences repository"
        "Shift context notes repository"
        "Substitute repository"
        "Timeslot repository"
    } -> Database
}
